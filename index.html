<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>西城之鑰：愛的時光漫遊｜網頁遊戲</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="穿越時空的愛情解謎遊戲，體驗1943年西門町的浪漫故事，幫助阿公阿嬤完成未完的愛情心願。">
  <meta name="keywords" content="時空穿越,愛情遊戲,西門町,解謎遊戲,台灣歷史,互動故事">
  <meta name="author" content="西城之鑰製作團隊">
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://zhulingru.github.io/muyuing/">
  <meta property="og:title" content="西城之鑰：愛的時光漫遊">
  <meta property="og:description" content="穿越時空的愛情解謎遊戲，體驗1943年西門町的浪漫故事，幫助阿公阿嬤完成未完的愛情心願。">
  <meta property="og:image" content="https://zhulingru.github.io/muyuing/images/og-image.jpg">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  
  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image">
  <meta property="twitter:url" content="https://zhulingru.github.io/muyuing/">
  <meta property="twitter:title" content="西城之鑰：愛的時光漫遊">
  <meta property="twitter:description" content="穿越時空的愛情解謎遊戲，體驗1943年西門町的浪漫故事，幫助阿公阿嬤完成未完的愛情心願。">
  <meta property="twitter:image" content="https://zhulingru.github.io/muyuing/images/og-image.jpg">
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
  
  <link rel="stylesheet" href="style.css">
  <!-- TensorFlow.js 和 MobileNet -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.10.0/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet@2.1.0/dist/mobilenet.min.js"></script>
</head>
<body>
  <div id="game-container" class="game-container">
    <h1 id="game-title" class="game-title"></h1>
    <div id="chapter-title" class="chapter-title"></div>
    
    <!-- 進度條 -->
    <!-- 進度條區塊：顯示目前章節進度與總章節數 -->
    <div class="progress-container">
      <div class="progress-bar">
        <div id="progress-fill" class="progress-fill"></div>
      </div>
      <div id="progress-text" class="progress-text">第一章 / 共六章</div>
    </div>
    
    <!-- 章節開場示意圖 -->
    <!-- 章節開場區塊：顯示章節代表圖片與開場文字，並有開始章節按鈕 -->
    <div id="chapter-intro-section" class="content-card" style="display:none;">
      <div id="chapter-intro-image" class="image-container"></div>
      <div id="chapter-intro-text" class="story-text"></div>
      <button id="start-chapter" class="btn">開始章節</button>
    </div>
    
    <!-- 主要故事內容區塊：顯示章節故事與場景圖片 -->
    <div id="main-content" class="content-card" style="display:none;">
      <div id="story" class="story-text"></div>
      <div id="chapter-image" class="image-container"></div>
    </div>
    
    <!-- 謎題互動區塊：根據謎題型態顯示不同互動介面（文字、數字、相機等） -->
    <div id="puzzle-section" class="content-card" style="display:none;">
      <h2 class="chapter-title">謎題</h2>
      <div id="puzzle-question" class="story-text"></div>
      <div id="puzzle-image" class="image-container" style="display:none;"></div>
      
      <!-- 文字輸入謎題 -->
      <!-- 文字/數字輸入題區塊 -->
      <div id="text-puzzle" style="display:none;">
        <input type="text" id="puzzle-answer" class="puzzle-input" placeholder="請輸入答案">
        <button id="submit-answer" class="btn">確定</button>
        <button id="show-hint" class="btn">提示</button>
        <div id="hint" class="story-text"></div>
      </div>
      
      <!-- 相機謎題 -->
      <!-- 拍照互動題區塊，支援 AI 模型分析 -->
      <div id="camera-puzzle" style="display:none;">
        <button id="take-photo" class="btn" disabled>⏳ AI 模型載入中...</button>
        <div id="camera-preview" style="display:none;">
          <video id="camera-video" autoplay playsinline style="width:100%; max-width:400px; border-radius:8px;"></video>
          <button id="capture-photo" class="btn">拍攝</button>
          <button id="close-camera" class="btn">取消</button>
        </div>
        <div id="photo-result" style="display:none;">
          <canvas id="photo-canvas" style="width:100%; max-width:400px; border-radius:8px;"></canvas>
          <div id="analysis-status" class="story-text">正在分析照片...</div>
          <button id="retake-photo" class="btn">重新拍攝</button>
        </div>
      </div>
      
      <div id="puzzle-feedback" class="story-text"></div>
    </div>
    
    <!-- 結局區塊：顯示章節或遊戲結局內容 -->
    <div id="ending-section" class="content-card" style="display:none;">
      <h2 id="ending-title" class="chapter-title"></h2>
      <div id="ending-story" class="story-text"></div>
    </div>
  </div>
  <script src="main.js"></script>
</body>
</html>